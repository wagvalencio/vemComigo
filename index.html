<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vem Comigo</title>

  <!-- √çcone e Manifest -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#FF7A00">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/banner-fix-final.css">
  <link rel="stylesheet" href="/public/css/style.css">

  <!-- Splash CSS e vers√£o embutida -->
  <style>
    /* Splash fullscreen com fade */
    #html-splash {
      position: fixed;
      inset: 0;
      background: url('assets/images/Splash_Amigos_VemComigo.png') no-repeat center center;
      background-size: cover;
      z-index: 9999;
      display: none;
      opacity: 1;
      transition: opacity 0.5s ease;
    }

    #html-splash.hide-splash {
      opacity: 0;
    }

    /* Vers√£o do app no rodap√© da splash */
    #html-splash .app-version {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: 14px;
      color: rgba(255,255,255,0.8);
      font-family: Arial, sans-serif;
      z-index: 10;
    }
  </style>

</head>
<body>

  <!-- SPLASH VISUAL (HTML) -->
  <div id="html-splash">
    <div class="app-version">Vers√£o 1.0.0</div>
  </div>

  <!-- HEADER -->
  <header id="app-header">
    <div class="header-left">
      <img src="/icons/icon-512.png" alt="Vem Comigo" class="header-logo">
      <span class="app-name">Vem Comigo</span>
    </div>
  </header>

  <!-- BANNER FIXO -->
  <section id="banner-area">
    <div class="banner-slide image" style="background-image:url('https://tireabundadosofa.com.br/wp-content/uploads/2017/06/o-que-fazer-em-itapoa.png')">
      <span class="banner-tag">Patrocinado</span>
    </div>

    <div class="banner-slide active image" style="background-image:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee')">
      <span class="banner-tag">Patrocinado</span>
    </div>

    <div class="banner-slide text orange-blue">
      <span class="banner-tag">Patrocinado</span>
      <strong>Promo√ß√£o de fim de ano</strong>
      <span>J√° escolheu seu novo destino?</span>
    </div>

    <div class="banner-slide image" style="background-image:url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e')">
      <span class="banner-tag">Patrocinado</span>
    </div>

    <div class="banner-slide text green">
      <span class="banner-tag">Patrocinado</span>
      <strong>Viajar √© viver</strong>
      <span>Descubra novos caminhos hoje</span>
    </div>

    <div class="banner-slide image" style="background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWbZ_a93b4A85r2jVq8msMCL0ydEoOJ-QPRTER-IaFS2ZCPGWMOh7GIp0&s=10')">
      <span class="banner-tag">Patrocinado</span>
    </div>

    <div class="banner-slide text blue">
      <span class="banner-tag">Patrocinado</span>
      <strong>Turismo acess√≠vel</strong>
      <span>Caronas seguras e econ√¥micas</span>
    </div>
  </section>

  <!-- APP ROOT -->
  <div id="app"></div>

  <!-- FOOTER FIXO -->
  <footer id="footer">
    <button data-route="buscar">
      <span class="icon">üîç</span>
      <span>Buscar</span>
    </button>
    <button data-route="oferecer">
      <span class="icon">üöó</span>
      <span>Oferecer</span>
    </button>
    <button data-route="viagens">
      <span class="icon">üßæ</span>
      <span>Viagens</span>
    </button>
    <button data-route="mensagens">
      <span class="icon">üí¨</span>
      <span>Mensagens</span>
    </button>
    <button data-route="perfil">
      <span class="icon">üë§</span>
      <span>Perfil</span>
    </button>
  </footer>

  <!-- SUPABASE SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- AUTH -->
  <script src="/public/js/auth.js"></script>

  <!-- APP -->
  <script src="/public/js/app.js"></script>

  <!-- BANNERS -->
  <script src="/public/js/banners-supabase.js"></script>

  <!-- SERVICE WORKER -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/sw.js");
    }
  </script>

  <!-- SPLASH LOGIC -->
  <script src="/version.js"></script>
  <script>
    (function () {
      const splash = document.getElementById('html-splash');

      // Detecta se √© PWA
      const isPWA =
        window.matchMedia('(display-mode: standalone)').matches ||
        window.navigator.standalone === true;

      if (isPWA) {
        // Mostra splash
        splash.style.display = 'block';

        // Tempo do splash
        setTimeout(() => {
          splash.classList.add('hide-splash'); // fade
          setTimeout(() => {
            splash.style.display = 'none';
          }, 500); // dura√ß√£o do fade
        }, 3000); // tempo vis√≠vel
      }

      // Adiciona vers√£o do app se existir
      if (window.APP_VERSION) {
        const versionDiv = splash.querySelector('.app-version');
        versionDiv.innerText = "Vers√£o " + APP_VERSION;
      }
    })();
  </script>

</body>
</html>
